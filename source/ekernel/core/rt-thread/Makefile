subdir-ccflags-y += 	-I$(obj)/include -I$(obj)/libdl \
			-I$(srctree)/ekernel/subsys/aw/multi_console \
			-I$(srctree)/ekernel/drivers/include/drv \
			-I$(srctree)/ekernel/drivers

CFLAGS_kservice.o := -Wno-date-time -Wno-implicit-fallthrough

#extra-y += clock.lst
#extra-y += idle.lst
#extra-y += ipc.lst

obj-y += clock.o
obj-y += idle.o
obj-y += ipc.o
obj-y += irq.o
obj-y += kservice.o
obj-y += object.o
obj-y += scheduler.o
obj-y += thread.o
obj-y += timer.o
obj-y += pipe.o
obj-y += ringbuffer.o
obj-y += waitqueue.o
obj-y += workqueue.o
obj-y += completion.o
#obj-y += components.o
#obj-y += module.o
obj-${CONFIG_RT_USING_SMALL_MEM} += mem.o
obj-${CONFIG_RT_USING_SLAB} += slab.o
obj-${CONFIG_RT_USING_DEVICE} += device.o
obj-${CONFIG_RT_USING_MEMPOOL} += mempool.o
obj-${CONFIG_RT_USING_MEMHEAP} += memheap.o
obj-${CONFIG_RT_USING_SIGNALS} += signal.o
obj-${CONFIG_RT_JLINK_RTT} += J-RTT/
obj-${CONFIG_CMSIS} += cmsis/
obj-y += wrapper/
obj-${CONFIG_MODULES} += libdl/

ifeq ($(CONFIG_KASAN), y)
KASAN_SANITIZE_slab.o := n
endif
